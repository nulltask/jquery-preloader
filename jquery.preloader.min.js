/**
 * jQuery Preloader v0.1pre - http://rd.uniba.jp/
 * 
 * Copyright 2010, Uniba Inc.
 * Released under the BSD License.
 *
 */

(function(a){if(!window.console)window.console={log:function(){}};a.fn.preloader=function(b){var c=this,f=0,d=0,h=new Date-0,i=b.onPreloadStart||function(){console.log("start")},j=b.atPreloadReady||function(e,g){console.log(["ready",g])},k=b.atPreloadProgress||function(e,g){console.log(["progress",g])},l=b.onPreloadComplete||function(){console.log("complete")},m=b.onElementInit||function(){console.log("elementinit")},n=b.onElementLoad||function(){console.log("elementload")},o=function(){f++;a(c).trigger("preloadprogress",
[{current:f,total:d,elapsed:new Date-h}]);f>=d&&a(c).trigger("preloadcomplete",[{total:d,elapsed:new Date-h}])};(function(){a(c).bind("preloadstart",i).bind("preloadready",j).bind("preloadprogress",k).bind("preloadcomplete",l);a(c).trigger("preloadstart");var e=c.find("img");d=e.length;a(c).trigger("preloadready",[{total:d}]);e.each(function(){m(a(this));a(this).load(o).load(n).attr("src",a(this).attr("src"))})})()}})(jQuery);
